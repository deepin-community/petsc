
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Changes: 2.0.28 &#8212; PETSc 3.18.6 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../../_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/katex-math.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script src="../../_static/katex.min.js"></script>
    <script src="../../_static/auto-render.min.js"></script>
    <script src="../../_static/katex_autorenderer.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'docs/changes/2028';</script>
    <link rel="shortcut icon" href="../../_static/petsc_favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Changes: 2.0.25 - 2.0.27" href="2025_through_2027.html" />
    <link rel="prev" title="Changes: 2.0.29" href="2029.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../../index.html">

  
  
  
  
  
  
  

  
    <img src="../../_static/PETSc-TAO_RGB.svg" class="logo__image only-light" alt="Logo image">
    <img src="../../_static/PETSc-TAO_RGB_white.svg" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../overview/index.html">
                        Overview
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../install/index.html">
                        Install
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../manual/index.html">
                        User-Guide
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../manualpages/index.html">
                        API-Docs
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../tutorials/index.html">
                        Tutorials
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../faq/index.html">
                        FAQ
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../community/index.html">
                        Community
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../developers/index.html">
                        Developers
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../miscellaneous/index.html">
                        Misc.
                      </a>
                    </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://gitlab.com/petsc/petsc" title="GitLab" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fab fa-gitlab"></i></span>
            <label class="sr-only">GitLab</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../overview/index.html">
                        Overview
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../install/index.html">
                        Install
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../manual/index.html">
                        User-Guide
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../manualpages/index.html">
                        API-Docs
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../tutorials/index.html">
                        Tutorials
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../faq/index.html">
                        FAQ
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../community/index.html">
                        Community
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../developers/index.html">
                        Developers
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../miscellaneous/index.html">
                        Misc.
                      </a>
                    </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://gitlab.com/petsc/petsc" title="GitLab" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fab fa-gitlab"></i></span>
            <label class="sr-only">GitLab</label></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
  <p class="bd-links__title" role="heading" aria-level="1">
    Section Navigation
  </p>
  <div class="bd-toc-item navbar-nav">
    <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="index.html">Changes for each release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manualpages/singleindex.html">Single Index of all PETSc Manual Pages</a></li>
</ul>

  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="changes-2-0-28">
<h1>Changes: 2.0.28<a class="headerlink" href="#changes-2-0-28" title="Permalink to this heading">#</a></h1>
<section id="changes">
<h2>Changes<a class="headerlink" href="#changes" title="Permalink to this heading">#</a></h2>
<p>(See <a class="reference internal" href="#features">Features</a> below)</p>
<p class="rubric">General:</p>
<ul class="simple">
<li><p>No longer support PETSC_ARCH=sun4</p></li>
<li><p>The macros in petscconf.h now begin with PETSC_</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PetsReal()</span></code> and <code class="docutils literal notranslate"><span class="pre">PetscImaginary()</span></code> are now
<code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/Sys/PetscRealPart.html">PetscRealPart</a>()</span></code> <code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/Sys/PetscImaginaryPart.html">PetscImaginaryPart</a>()</span></code></p></li>
<li><p>-optionstable -&gt; -options_table -optionsleft -&gt; -options_left but
old left for compatibility</p></li>
</ul>
<p class="rubric">AO (Application Orderings):</p>
<p class="rubric">TS (Timestepping Solvers):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TSSetMonitor()</span></code> now takes an additional final optional argument
that monitor context.</p></li>
</ul>
<p class="rubric">SNES (Nonlinear Solvers):</p>
<ul class="simple">
<li><p>SNES_EQ_LS etc changed to drop _, for example SNESEQLS</p></li>
<li><p>Changed calling sequence of SNES monitoring routines to add an
additional output parameter indicating why it converged or
diverged.</p></li>
<li><p>Added additional final argument to <code class="docutils literal notranslate"><span class="pre">SNESSetMonitor()</span></code> an
optional destroy routine for the monitor context.</p></li>
<li><p>Changed calling sequence of <code class="docutils literal notranslate"><span class="pre">MatSNESMFAddNullSpace()</span></code> to take
<code class="docutils literal notranslate"><span class="pre">PCNullSpace</span></code> object rather than array of vectors.</p></li>
<li><p>Added final ctx argument to <code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/SNES/SNESGetFunction.html">SNESGetFunction</a>()</span></code>,
<code class="docutils literal notranslate"><span class="pre">SNESGetGradient()</span></code> and <code class="docutils literal notranslate"><span class="pre">SNESGetMinimizationFunction()</span></code></p></li>
</ul>
<p class="rubric">SLES (Linear Solvers):</p>
<ul class="simple">
<li><p>See PC and KSP</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SLESSolveTrans()</span></code> is now <code class="docutils literal notranslate"><span class="pre">SLESSolveTranspose()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SLESSolve()</span></code> now ALWAYS returns a 0 or positive iteration
count. Call <code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/KSP/KSPGetConvergedReason.html">KSPGetConvergedReason</a>()</span></code> to see if converged or
diverged and why.</p></li>
</ul>
<p class="rubric">KSP (Krylov Subspace Methods):</p>
<ul class="simple">
<li><p>Added additional final argument to <code class="docutils literal notranslate"><span class="pre">KSPSetMonitor()</span></code> an optional
destroy routine for the monitor context.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">KSPSolvetrans()</span></code> is now <code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/KSP/KSPSolveTranspose.html">KSPSolveTranspose</a>()</span></code></p></li>
<li><p>Added flexible gmres (use fgmres or KSPFGMRES as the type) see
<code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/KSP/KSPFGMRESSetModifyPC.html">KSPFGMRESSetModifyPC</a>()</span></code> for one way to change PC at each
iteration.</p></li>
</ul>
<p class="rubric">PC (Preconditioners):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MGSetRestriction()</span></code> and <code class="docutils literal notranslate"><span class="pre">MGSetInterpolation()</span></code> now accept
PETSc figures out which one it is based on the number of rows and
columns. Now you don’t need to use the Shell matrices if you
computed it “the other way then PETSc use to expect”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PCApplyTrans()</span></code> is now <code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/PC/PCApplyTranspose.html">PCApplyTranspose</a>()</span></code></p></li>
<li><p>options -pc_ilu_mat_ordering_type &lt;nd,…&gt; and
-pc_lu_mat_ordering_type &lt;nd,…&gt; now set the ordering type.</p></li>
</ul>
<p class="rubric">MAT (Matrices):</p>
<ul class="simple">
<li><p>Added two additional arguments to
<code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/Mat/MatCreate.html">MatCreate</a>(<a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/Sys/MPI_Comm.html">MPI_Comm</a></span> <span class="pre">comm,int</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">m,int</span> <span class="pre">n,int</span> <span class="pre">M,int</span> <span class="pre">N,<a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/Mat/Mat.html">Mat</a></span> <span class="pre">*)</span></code>
where m and n are the local ownership sizes. To get the effect of
the old <code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/Mat/MatCreate.html">MatCreate</a>()</span></code> use m and n equal to PETSC_DECIDE</p></li>
<li><p>Changed <code class="docutils literal notranslate"><span class="pre">MatSetLocalToGlobalMappingBlocked()</span></code> to
<code class="docutils literal notranslate"><span class="pre">MatSetLocalToGlobalMappingBlock()</span></code> so that it would be less
then 32 characters long.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MatSolveTrans()</span></code>and <code class="docutils literal notranslate"><span class="pre">MatSolveTransAdd()</span></code> are now
<code class="docutils literal notranslate"><span class="pre">MatSolveTransposeXXX()</span></code> <code class="docutils literal notranslate"><span class="pre">MatMultTrans()</span></code> and
<code class="docutils literal notranslate"><span class="pre">MatMultTransAdd()</span></code>are now <code class="docutils literal notranslate"><span class="pre">MatMultTransposeXXX()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/Mat/MatCreateMPIAdj.html">MatCreateMPIAdj</a>()</span></code> changed to <code class="docutils literal notranslate"><span class="pre">MatCreateMPICSR()</span></code>;
<code class="docutils literal notranslate"><span class="pre">MatCreateSeqAdj()</span></code> dropped.</p></li>
<li><p>Another <code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/Mat/MatSetOption.html">MatSetOption</a>()</span></code>, <code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/Mat/MatOption.html">MAT_IGNORE_ZERO_ENTRIES</a></span></code> for AIJ
matrices with <code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/Sys/ADD_VALUES.html">ADD_VALUES</a></span></code>.</p></li>
<li><p>added matrix option <code class="docutils literal notranslate"><span class="pre">MAT_KEEP_ZEROED_ROWS</span></code> causes
<code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/Mat/MatZeroRows.html">MatZeroRows</a>()</span></code> to keep the original nonzero data structure and
just put 0.0 into the elements that are to be zeroed. Without this
option it removes the locations from the nonzero structure.</p></li>
</ul>
<p class="rubric">DA (Distributed Arrays):</p>
<p class="rubric">VEC (Vectors):</p>
<ul class="simple">
<li><p>Added VecGetArray2d() and VecRestoreArray2d()</p></li>
</ul>
<p class="rubric">IS (Index Sets):</p>
<ul class="simple">
<li><p>Added second argument to <code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/IS/ISInvertPermutation.html">ISInvertPermutation</a></span></code>() that
indicates how many indices are to be stored on that processor;
ignored for one processor code. If you use
<code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/IS/ISInvertPermutation.html">ISInvertPermutation</a></span></code>() simply add a second argument of
<code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/Sys/PETSC_DECIDE.html">PETSC_DECIDE</a></span></code>.</p></li>
</ul>
<p class="rubric">Draw (Graphics):</p>
<ul class="simple">
<li><p>DrawHistxxx changed to DrawHGxxx</p></li>
</ul>
<p class="rubric">Viewers:</p>
<p class="rubric">System:</p>
<ul class="simple">
<li><p>Routines XXXRegister() are now XXXRegisterDynamic() used for
registering new object types in dynamic libraries and
XXXRegister_Private() is now XXXRegister() used to register new
object types whose definitions are in the exectuable.</p></li>
<li><p>The final argument to OptionsHasName() and OptionsGetXXX() is a
PetscTruth * instead of an int*</p></li>
<li><p>PETSc functions and objects that began with Table now begin with
PetscTable</p></li>
<li><p>Changed these routines to return an error code. extern int
PetscStrchr(const char[],char,char **); extern int
PetscStrrchr(const char[],char,char **); extern int
PetscStrstr(const char[],const char[],char **); extern int
PetscStrtok(const char[],const char[],char **); extern int
PetscStrlen(const char[],int *); added PetscStrallocpy(const
char[],char **); PetscStrncmp() and PetscStrcasecmp() now return
PETSC_TRUE as a final argument if the strings match else
PETSC_FALSE. Note this means removing ! from your current tests
and adding it where you don’t have it.</p></li>
<li><p>PetscMemcmp() now has a final argument of true for matching
memories.</p></li>
<li><p>The Fortran versions of the PetscStrxxx() and PetscMemxxx()
routines also now have the error flag as the final argument</p></li>
<li><p>PetscFree() now always returns an error code that may be checked
with CHKERRQ(). On systems where free() returns a void (and the
user has no access to an error condition in free(), PetscFree()
returns 0 i.e. no error; on other systems it returns the error
number from free.</p></li>
<li><p>The BT bitarray macros are now prefixed with PetscBT</p></li>
</ul>
<p class="rubric">Error Handling:</p>
<p class="rubric">Event Logging:</p>
<p class="rubric">Fortran Interface:</p>
</section>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this heading">#</a></h2>
<p>(See <a class="reference internal" href="#changes">Changes</a> above)</p>
<p class="rubric">General:</p>
<ul class="simple">
<li><p>When doing string substitutions in library directory paths etc one
must use ${PETSC_DIR} ${BOPT} etc now instead of $PETSC_DIR etc.
Also you can put anything in {anything} as long as it is an
environmental variable or passed in the options database with
-anything</p></li>
<li><p>Added PetscEmacsclientErrorHandler() -on_error_emacs [machinename]
to allow emacs to jump to error; can be used with any other error
handler.</p></li>
<li><p>So long as you have defined the macro __FUNC__ “main” before
your main C/C++ subroutine you can use SETERRQ() and CHKERRQ()
instead of SETERRA(), CHKERRA().</p></li>
</ul>
<p class="rubric">AO (Application Orderings):</p>
<p class="rubric">TS (Timestepping Solvers):</p>
<p class="rubric">SNES (Nonlinear Solvers):</p>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">SNESSetLineSearchParams()</span></code> and
<code class="docutils literal notranslate"><span class="pre">SNESGetLineSearchParams()</span></code>, contributed by Matt Knepley.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/SNES/SNESGetConvergedReason.html">SNESGetConvergedReason</a>()</span></code> to find out if a
<code class="docutils literal notranslate"><span class="pre"><a href="PETSC_DOC_OUT_ROOT_PLACEHOLDER/docs/manualpages/SNES/SNESSolve.html">SNESSolve</a>()</span></code> has converged/diverged and why</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">SNESMonitorVecUpdate()</span></code> and -snes_vecmonitor_update to
display the Newton update at each iteration.</p></li>
</ul>
<p class="rubric">SLES (Linear Solvers):</p>
<ul class="simple">
<li><p>See PC and KSP</p></li>
</ul>
<p class="rubric">KSP (Krylov Subspace Methods):</p>
<ul class="simple">
<li><p>Added -ksp_gmres_krylov_monitor and <code class="docutils literal notranslate"><span class="pre">KSPGMRESKrylovMonitor()</span></code> to
allow one to view the vectors in the Krylov space.</p></li>
</ul>
<p class="rubric">PC (Preconditioners):</p>
<ul class="simple">
<li><p>We now provide a drop tolerance based ILU for SeqAIJ matrix format
via Yousef Saad’s SPARSEKIT2 software. Use
-pc_ilu_use_drop_tolerance &lt;dt,dtcol,rowmax&gt; or
<code class="docutils literal notranslate"><span class="pre">PCILUSetUseDropTolerance</span></code>(pc,dt,dtcol,rowmax).</p></li>
</ul>
<p class="rubric">MAT (Matrices):</p>
<p class="rubric">DA (Distributed Arrays):</p>
<p class="rubric">VEC (Vectors):</p>
<p class="rubric">IS (Index Sets):</p>
<p class="rubric">Draw (Graphics):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DrawCreate()</span></code> and <code class="docutils literal notranslate"><span class="pre">DrawOpenX()</span></code> now can take</p></li>
</ul>
<p class="rubric">Viewers:</p>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">ViewerASCIIUseTabs()</span></code> to allow turning off tabbing during
certain viewer operations.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">ViewerGetSingleton()</span></code>, ViewerRestoreSingleton() to allow
managing the calling a a sequential viewer from within a parallel
viewer.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">ViewerASCIISynchronizedPrintf</span></code>(viewer,….)</p></li>
<li><p>Binary and ASCII viewers can create compressed files by simply
appending a .gz on the filename.</p></li>
<li><p>PETSc now has a new viewer that generates rudimentary Postscript.
Improvements, additions may be added as needed. <code class="docutils literal notranslate"><span class="pre">DrawOpenPS()</span></code>,
or <code class="docutils literal notranslate"><span class="pre">DrawSetType(,DRAW_PS);</span></code> or -draw_type ps</p></li>
</ul>
<p class="rubric">System:</p>
<ul class="simple">
<li><p>using -trdump with PETSC_USE_STACK compile option (default for
BOPT=g*) will print the entire stack for each malloc, allow one to
more easily track down where mallocs where made that where not
freed.</p></li>
<li><p>Added PetscSum_Op to replace MPI_SUM for reductions with
MPIU_SCALAR</p></li>
<li><p>Added PetscMaxSum_Op to do max on first half of entries and sum on
second half.</p></li>
<li><p>Added CHKMEMQ and CHKMEMA macros to help track down memory
corruption.</p></li>
</ul>
<p class="rubric">Error Handling:</p>
<p class="rubric">Event Logging:</p>
<p class="rubric">Fortran Interface:</p>
<ul class="simple">
<li><p>Added Fortran 90 interface support for HP Convex and
Solaris.machine.</p></li>
</ul>
</section>
</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="2029.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Changes: 2.0.29</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="2025_through_2027.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Changes: 2.0.25 - 2.0.27</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#changes">
   Changes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#features">
   Features
  </a>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<div id="searchbox"></div>
</div>

<div class="toc-item">
  

<div class="tocsection editthispage">
    <a href="https://gitlab.com/petsc/petsc/edit/release/doc/docs/changes/2028.rst">
        <i class="fa-solid fa-pencil"></i> Edit this page
    </a>
</div>

</div>

<div class="toc-item">
  
<div class="tocsection sourcelink">
    <a href="../../_sources/docs/changes/2028.rst.txt">
        <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
</div>

</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 1991-2023, UChicago Argonne, LLC and the PETSc Development Team.<br>

</p>

  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>

  </div>
  
  <div class="footer-item">
    <p class="last-updated">
Last updated on 2023-03-30T10:44:47-0500 (v3.18.6).<br>
</p>
  </div>
  
</div>
  </footer>
  </body>
</html>